set -g default-shell /usr/local/bin/fish
set -g default-command /usr/local/bin/fish
set -g default-terminal "screen-256color"
setw -g utf8 on

set -g terminal-overrides 'xterm*:smcup@:rmcup@:screen-256color'
set-option -g default-command "reattach-to-user-namespace -l fish"

# Screen
unbind ^b
set -g prefix ^a
bind a send-prefix

bind ^a last-window
bind c new-window -c "#{pane_current_path}"
bind ^c new-window -c "#{pane_current_path}"

bind A command-prompt "rename-window '%%'"

# Vim
setw -g mode-keys vi
set -g status-keys vi
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R
bind ^h select-pane -L
bind ^j select-pane -D
bind ^k select-pane -U
bind ^l select-pane -R

bind s split-window -v -c "#{pane_current_path}"
bind v split-window -h -c "#{pane_current_path}"
bind ^s split-window -v -c "#{pane_current_path}"
bind ^v split-window -h -c "#{pane_current_path}"

# Just kill the window
bind-key x kill-pane

# Set Terminal titles
set -g set-titles on
set -g set-titles-string '#h ❐ #S ● #I #W'

# Enable mouse mode
setw -g mode-mouse on
set-option -g mouse-select-pane on
set-option -g mouse-select-window on

# Theming
setw -g window-status-format " #F#I:#W#F "

setw -g window-status-current-format " #F#I:#W#F "
setw -g window-status-current-bg red
setw -g window-status-current-fg white

setw -g window-status-bg white
setw -g window-status-fg black

set -g message-fg black
set -g message-bg white
set -g message-attr bright

set -g pane-active-border-bg default
set -g pane-active-border-fg red
set -g pane-border-bg default
set -g pane-border-fg default

set -g status-left-length 100
set -g status-right-length 100

set -g status-bg black
set -g status-fg default
set -g status-attr bright
set -g status-interval 2
set -g status-justify centre

set -g status-left "#(network) #(rainbarf --bg black --width 10 --remaining)"
set -g status-right "#[fg=blue]#(forecast -m 15) #[fg=green]%H:%M %b %d %Y"
